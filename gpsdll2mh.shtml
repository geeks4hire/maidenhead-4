
<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
	<head>
	<title>gpsdll2mh - Deriving Maidenhead LOCATOR from GPS data</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<meta NAME="Keywords" CONTENT="GPS receivers, GPS software, gpsd daemon, build GPS, gpsd, gpsd software, calculate Maidenhead locator to 52 places, locator calculation, G1OGY,Amateur Radio Projects,Ham Radio">
	<meta NAME="Description" CONTENT="GPS devices, software and LOCATORS">
	<meta name="robots" content="index, follow">
	<meta name="revisit" content="7 days">
	<link rel="stylesheet" href="../../images/ogy1.css" type="text/css">
	</head>

<body> <font face="lucida console">
<h1>gpsdll2mh.py</h1>
<hr>
<p><strong>WARNING!</strong></p>
This python script is now over 4 years old.  <a href http://www.catb.org/gpsd>`gpsd`</a> has moved on.  
The <strong><I>original</I></strong> implementation of gpsdll2mh.py <strong>WILL NOT WORK</strong> with versions of `gpsd` greater than v2.90.
<p>Thanks to encouragement from Claude Frantz, I have been able to convert the connection and API call to the current version of `gpsd` - GPSD-NG.
 The updated program has had a suffix added to its name.<br>  Be aware that 'v3' should also work with all gpsd versions > v2.91.<br>
At least, the calculations haven't needed to change!</p>
<p><small>'OGY 20120218</p>
<hr>

<p>This project stems from a frustration in needing a linux-based program to display my whereabouts
in <a href http://en.wikipedia.org/wiki/Maidenhead_Locator_System>Maidenhead LOCATOR</a> (Grid Square) terms.  
What I have ended up with is a universal [cough, cough] GPS-data-to-Lat/Long-to-Locator program that will run on Windows<sup>&reg;</sup>, 
linux, MacOS<sup>&reg;</sup>, Crays - even your Nokia cell phone!
</p>
<p>With a couple of provisos: to have a recent version ( >v2.5 <3.x) of the <a href="http://www.python.org" target=_blank>"Python"</a> programming 
language installed and...</p>

<p>
... there is a software suite available to run on Linux machines (like my old Dell laptops with Ubuntu linux installed) 
called <a href="http://gpsd.berlios.de" target=_blank>`gpsd'</a>.  It stands for "GPS Daemon". That's not a devil-in-disguise 
but a 'server' program that runs in the background - like a web server does.
</p>
<p>
This one connects and talks to your GPS receiver in the most efficient 'GPS-speak' it can negotiate and makes 
the GPS data available to other programs using a standardised message format. The extremely clever folks at 
the <a href="http://gpsd.berlios.de" target=_blank>`gpsd' project</a> have done all the hard work. 
</p>
<p>
`gpsd' will talk to Garmins, SiRF-Star boards, Motorola devices, <i>et cetera</i> in their "own language" and then push this information
out to other software in a sort of GPS-esperanto that is much less ambiguous than NMEA.</p>
<p>The `gpsdll2mh' program connects to a gpsd daemon running on the same computer, or on another machine accessible 
over a network, and prints out the location of the GPS device as both Latitude/Longitude and LOCATOR; every
so-many seconds.
</p>

<p>So, in a 'rover' contest or on a WAB trip, the radio operator will know immediately when the vehicle has transited
from one (small) square to another.</p>

<p>Presently, gpsdll2mh runs in a Command Prompt or Terminal.  I once had a mind to convert it into a window-ed
application with Tk but with the Terminal/Command Prompt tricks you can do - using the Zoom function of a Gnome/Ubiquity (linux)
terminal window you can grow the text adequately or on a windows system, the Properties of the Command Prompt `DOS box'
can be changed to use a BIG typeface size (say, 36 pixels high) - it really is not necessary. </p>
<p>
<img src="./gpsdll2mh-gme.png">
</p>
<p>
<img src="./gpsdll2mh-win.jpg"> 
</p>
<p>As I mentioned before, the program isn't fully finished  - even having just updated it (Feb 2012) to cope with the `gpsd` API change - I'd like to 
finish the necessary branch to (optionally) untie it from `gpsd's coat-tails (so that Lat & Long could be entered manually, derived from another source). 
But right now it does what I set out to do so it may as well be exposed to a bit more peer review.
</p>
<p>
That said, I can't take all the credit for the program because I copied the LOCATOR calculation part from  
<a href="http://jidanni.org/geo/maidenhead/" target=_blank>lonlat2maidenhead</a> a python script that I found 
when looking for a linux replacement for the Windows<sup>&reg;</sup> program, 
<a href="http://www.cnssys.com/cnsclock/Tac32Software.php" target= _blank>TAC32</a> that I had used in the past.</p>

<p>So that's my excuse: here are download links for version corresponding to the point where `gpsd` changes API:
 <a href=http://www.g1ogy.com/projects/gps/gpsdll2mh.zip>&lt; v2.90</a> and after  
<a href=http://www.g1ogy.com/projects/gps/gpsdll2mh-v3.zip>&gt; v2.91</a>.  The zip files contain
gpsdll2mh.py/gpsdll2mh-v3.py but if you are not prepared to sully your machine downloading the zips you'll find a link to the text below.<br>
(If you copy from the web page, remember it is crucial to maintain the indentation of the various code blocks.)<br> 
All parts of the code are licenced under the GNU GPL - but please credit (and advise) the authors if you use this code in your own programs.
</p>


<h2><a href="./gpsdll2mh.py" target=_blank>gpsdll2mh.py</a></h2>  
<h2><a href="./gpsdll2mh-v3.py" target=_blank>gpsdll2mh-v3.py</a></h2>  

<font size= -2>last updated: 20090511</font>
<font size= -2>last updated: 20120218</font>
</body>
</html>
